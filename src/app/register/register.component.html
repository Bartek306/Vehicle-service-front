<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body class="bg-info">
<div class="container">
    <div class="row vh-100 align-items-center justify-content-center">
        <div class="col-sm-8 col-md-6 col-lg-4 bg-white rounded p-4 shadow">
            <form [formGroup]="exForm" method="post">
                <div class="mb-4">
                    <label  class="form-label" for="login">Login</label>
                    <input  formControlName="login" type="text" class="form-control" id="login">
                    <small *ngIf="exForm.get('login')?.hasError('required') && exForm.get('login')?.touched" class="form-control-invalid"> Login jest wymagany</small>
                    <small *ngIf="exForm.get('login')?.hasError('minlength') && exForm.get('login')?.touched" class="form-control-invalid"> Login jest za krótki</small>
                    <small *ngIf="exForm.get('login')?.hasError('maxlength') && exForm.get('login')?.touched" class="form-control-invalid"> Login jest za krótki</small>
                </div>
                <div class="mb-4">
                    <label class="form-label" for="email">Email</label>
                    <input formControlName="email" type="email" class="form-control" id="email">
                    <small *ngIf="exForm.get('email')?.invalid && exForm.get('email')?.touched" class="form-control-invalid">E-mail jest niepoprawny</small>
                </div>

                <div class="mb-4">
                    <label class="form-label" for="password">Haslo</label>
                    <input formControlName="password" type="password" class="form-control" id="password">
                    <small *ngIf="exForm.get('password')?.hasError('required') && exForm.get('password')?.touched" class="form-control-invalid">Haslo jest wymagane</small>
                </div>

                <div class="mb-4">
                    <label class="form-label" for="confirm_password">Powtorz haslo</label>
                    <input formControlName="confirmPassword" type="password" class="form-control" id="confirm_password" name="confirm">
                    <small *ngIf="exForm.get('confirmPassword')?.hasError('required') && exForm.get('confirmPassword')?.touched" class="form-control-invalid"> Powtorz haslo</small>

                </div>
                <button [disabled]="exForm.invalid" type="submit" class="btn btn-success w-100" (click)="registerUser()">Zarejestruj</button>
            </form>
            <div class="text-center forgot_password">
                <a href="/login" style="margin-top: 10px;">Posiadasz juz konto? Zaloguj sie tutaj</a>
            </div>
            <div style="margin-top: 30px;"  class="alert alert-danger" *ngIf ="status_code == 500 ">
                Istnieje uzytkownik z takim loginem lub e-mailem
            </div>
        </div>
    </div>
</div>
</body>
